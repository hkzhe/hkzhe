var Mustache;(function(n){typeof module!="undefined"&&typeof module.exports!="undefined"?module.exports=n:typeof define=="function"?define(n):Mustache=n})(function(){function k(n,t){return RegExp.prototype.test.call(n,t)}function y(n){return!k(nt,n)}function f(n){var t=n.replace(w,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)});return'"'+t+'"'}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l(n){return String(n).replace(/[&<>"'\/]/g,function(n){return v[n]})}function u(n){this.string=n,this.tail=n,this.pos=0}function i(n,t){this.view=n,this.parent=t,this.clearCache()}function t(){this.clearCache()}function c(n,t){for(var r=['""'],i,e,o,u=0,s=n.length;u<s;++u){i=n[u];switch(i.type){case"#":case"^":e=i.type==="#"?"_section":"_inverted",r.push("r."+e+"("+f(i.value)+", c, function (c, r) {\n  "+c(i.tokens,!0)+"\n})");break;case"{":case"&":case"name":o=i.type==="name"?"true":"false",r.push("r._name("+f(i.value)+", c, "+o+")");break;case">":r.push("r._partial("+f(i.value)+", c)");break;case"text":r.push(f(i.value))}}return(r="return "+r.join(" + ")+";",t)?r:new Function("c, r",r)}function h(n){if(n.length===2)return[new RegExp(o(n[0])+"\\s*"),new RegExp("\\s*"+o(n[1]))];throw new Error("Invalid tags: "+n.join(" "));}function tt(n){for(var e=[],u=e,i=[],t,r,f=0;f<n.length;++f){t=n[f];switch(t.type){case"#":case"^":t.tokens=[],i.push(t),u.push(t),u=t.tokens;break;case"/":if(i.length===0)throw new Error("Unopened section: "+t.value);if(r=i.pop(),r.value!==t.value)throw new Error("Unclosed section: "+r.value);u=i.length>0?i[i.length-1].tokens:e;break;default:u.push(t)}}if(r=i.pop(),r)throw new Error("Unclosed section: "+r.value);return e}function it(n){for(var i,r,t=0;t<n.length;++t)r=n[t],i&&i.type==="text"&&r.type==="text"?(i.value+=r.value,n.splice(t--,1)):i=r}function s(t,i){var w,k,nt;i=i||n.tags;for(var s=h(i),r=new u(t),c=[],l=[],b=!1,a=!1,ft=function(){if(b&&!a)while(l.length)c.splice(l.pop(),1);else l=[];b=!1,a=!1},e,f,v;!r.eos();){if(f=r.scanUntil(s[0]),f)for(w=0,k=f.length;w<k;++w)v=f.charAt(w),y(v)?l.push(c.length):a=!0,c.push({type:"text",value:v}),v==="\n"&&ft();if(!r.scan(s[0]))break;if(b=!0,e=r.scan(d)||"name",r.scan(ut),e==="="?(f=r.scanUntil(p),r.scan(p),r.scanUntil(s[1])):e==="{"?(nt=new RegExp("\\s*"+o("}"+i[1])),f=r.scanUntil(nt),r.scan(g),r.scanUntil(s[1])):f=r.scanUntil(s[1]),!r.scan(s[1]))throw new Error("Unclosed tag at "+r.pos);c.push({type:e,value:f}),(e==="name"||e==="{"||e==="&")&&(a=!0),e==="="&&(i=f.split(rt),s=h(i))}return it(c),tt(c)}function ft(){r.clearCache()}function et(n,t){return r.compile(n,t)}function a(n,t,i){return r.compilePartial(n,t,i)}function b(n,t,i){if(i)for(var u in i)a(u,i[u]);return r.render(n,t)}var n={},e,w,v,r;n.name="mustache.js",n.version="0.5.2",n.tags=["{{","}}"],n.parse=s,n.clearCache=ft,n.compile=et,n.compilePartial=a,n.render=b,n.Scanner=u,n.Context=i,n.Renderer=t,n.to_html=function(n,t,i,r){var u=b(n,t,i);if(typeof r=="function")r(u);else return u};var ut=/\s*/,rt=/\s+/,nt=/\S/,p=/\s*=/,g=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;return e=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},w=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},n.isWhitespace=y,n.isArray=e,n.quote=f,n.escapeRe=o,n.escapeHtml=l,u.prototype.eos=function(){return this.tail===""},u.prototype.scan=function(n){var t=this.tail.match(n);return t&&t.index===0?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},u.prototype.scanUntil=function(n){var t,i=this.tail.search(n);switch(i){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return t},i.make=function(n){return n instanceof i?n:new i(n)},i.prototype.clearCache=function(){this._cache={}},i.prototype.push=function(n){return new i(n,this)},i.prototype.lookup=function(n){var t=this._cache[n],i,r,u;if(!t){if(n===".")t=this.view;else for(i=this;i;){if(n.indexOf(".")>0)for(r=n.split("."),u=0,t=i.view;t&&u<r.length;)t=t[r[u++]];else t=i.view[n];if(t!=null)break;i=i.parent}this._cache[n]=t}return typeof t=="function"&&(t=t.call(this.view)),t},t.prototype.clearCache=function(){this._cache={},this._partialCache={}},t.prototype.compile=function(n,t){typeof n=="string"&&(n=s(n,t));var r=c(n),u=this;return function(n){return r(i.make(n),u)}},t.prototype.compilePartial=function(n,t,i){return this._partialCache[n]=this.compile(t,i)},t.prototype.render=function(n,t){var i=this._cache[n];return i||(i=this.compile(n),this._cache[n]=i),i(t)},t.prototype._section=function(n,t,i){var r=t.lookup(n),f,u,o;switch(typeof r){case"object":if(e(r)){for(f="",u=0,o=r.length;u<o;++u)f+=i(t.push(r[u]),this);return f}return r?i(t.push(r),this):"";case"function":var s=i(t,this),h=this,c=function(n){return h.render(n,t)};return r.call(t.view,s,c)||"";default:if(r)return i(t,this)}return""},t.prototype._inverted=function(n,t,i){var r=t.lookup(n);return r==null||r===!1||e(r)&&r.length===0?i(t,this):""},t.prototype._partial=function(n,t){var i=this._partialCache[n];return i?i(t):""},t.prototype._name=function(n,t,i){var r=t.lookup(n),u;return(typeof r=="function"&&(r=r.call(t.view)),u=r==null?"":String(r),i)?l(u):u},r=new t,n}())